import{r as o,j as a,w as l,x as d,y as p,v as f,z as x,G as y,E}from"./index-DbUrUU8Z.js";import{u as S}from"./Section-CKXM3UrJ.js";import{U as h}from"./UserForm-TxGRHk5K.js";import"./index-qx1T6XIP.js";import"./Loading-Cgyy9i2I.js";import"./Choice-CRxwr2Qu.js";const v=o.createContext(null);function U({children:t}){const[e,r]=o.useState("");function s(i){r(i)}const n=o.useMemo(()=>({example:e,handleExample:s}),[e]);return a.jsx(v.Provider,{value:n,children:t})}function g(){const{safeFetch:t}=l(),{showSuccessSnackbar:e}=d(),r=S({queryKey:["cepApi"]}),s=p(),n=f();async function i(m){await t(`${E}/user`,{method:"POST",body:m,resource:"USERS",action:"CREATE"})}const{mutate:u,isPending:c}=x({mutationFn:i,onSuccess:()=>{e({title:"Enviaremos um email para definir a senha",description:"Confira também a caixa de spam"}),n("/users"),s.invalidateQueries({queryKey:["user"]}),s.invalidateQueries({queryKey:["usersDashboard"]})}});return a.jsx(h,{defaultValues:y,onSubmit:u,isPending:c||!!r,headerPrimaryBtnLabel:"Criar",headerTitle:"Novo usuário",resource:"USERS",action:"CREATE",onlyDirty:!0})}function N(){return a.jsx(U,{children:a.jsx(g,{})})}export{N as default};

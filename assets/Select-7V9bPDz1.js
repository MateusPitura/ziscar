import{r as n,a9 as Re,aa as ve,j as d,ab as M,ac as Me,ad as dt,ae as ft,af as pt,ag as L,ah as B,ai as _e,aj as Te,ak as mt,al as vt,am as ht,an as gt,ao as xt,ap as U,aq as bt,ar as J,a8 as De,S as yt,l as Et}from"./index-CnY9f91V.js";import{h as Ct,R as wt,g as Pt,P as Rt,O as kt,C as Nt,u as St,c as At}from"./useDialog-DgUnmKfd.js";import{u as It,v as jt}from"./schemas-CZyi_FYc.js";var le=0;function Ot(){n.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ke()),document.body.insertAdjacentElement("beforeend",e[1]??ke()),le++,()=>{le===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),le--}},[])}function ke(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var se="focusScope.autoFocusOnMount",ue="focusScope.autoFocusOnUnmount",Ne={bubbles:!1,cancelable:!0},Ft="FocusScope",$e=n.forwardRef((e,r)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:u,...c}=e,[l,v]=n.useState(null),i=Re(a),m=Re(u),h=n.useRef(null),g=ve(r,y=>v(y)),b=n.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;n.useEffect(()=>{if(s){let y=function(F){if(b.paused||!l)return;const S=F.target;l.contains(S)?h.current=S:T(h.current,{select:!0})},R=function(F){if(b.paused||!l)return;const S=F.relatedTarget;S!==null&&(l.contains(S)||T(h.current,{select:!0}))},w=function(F){if(document.activeElement===document.body)for(const _ of F)_.removedNodes.length>0&&T(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",R);const k=new MutationObserver(w);return l&&k.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",R),k.disconnect()}}},[s,l,b.paused]),n.useEffect(()=>{if(l){Ae.add(b);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(se,Ne);l.addEventListener(se,i),l.dispatchEvent(w),w.defaultPrevented||(Mt(Lt(Le(l)),{select:!0}),document.activeElement===y&&T(l))}return()=>{l.removeEventListener(se,i),setTimeout(()=>{const w=new CustomEvent(ue,Ne);l.addEventListener(ue,m),l.dispatchEvent(w),w.defaultPrevented||T(y??document.body,{select:!0}),l.removeEventListener(ue,m),Ae.remove(b)},0)}}},[l,i,m,b]);const O=n.useCallback(y=>{if(!t&&!s||b.paused)return;const R=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(R&&w){const k=y.currentTarget,[F,S]=_t(k);F&&S?!y.shiftKey&&w===S?(y.preventDefault(),t&&T(F,{select:!0})):y.shiftKey&&w===F&&(y.preventDefault(),t&&T(S,{select:!0})):w===k&&y.preventDefault()}},[t,s,b.paused]);return d.jsx(M.div,{tabIndex:-1,...c,ref:g,onKeyDown:O})});$e.displayName=Ft;function Mt(e,{select:r=!1}={}){const t=document.activeElement;for(const s of e)if(T(s,{select:r}),document.activeElement!==t)return}function _t(e){const r=Le(e),t=Se(r,e),s=Se(r.reverse(),e);return[t,s]}function Le(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Se(e,r){for(const t of e)if(!Tt(t,{upTo:r}))return t}function Tt(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Dt(e){return e instanceof HTMLInputElement&&"select"in e}function T(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Dt(e)&&r&&e.select()}}var Ae=$t();function $t(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=Ie(e,r),e.unshift(r)},remove(r){var t;e=Ie(e,r),(t=e[0])==null||t.resume()}}}function Ie(e,r){const t=[...e],s=t.indexOf(r);return s!==-1&&t.splice(s,1),t}function Lt(e){return e.filter(r=>r.tagName!=="A")}var he="Popover",[Ke,Fr]=pt(he,[Me]),X=Me(),[Kt,$]=Ke(he),Ue=e=>{const{__scopePopover:r,children:t,open:s,defaultOpen:a,onOpenChange:u,modal:c=!1}=e,l=X(r),v=n.useRef(null),[i,m]=n.useState(!1),[h=!1,g]=dt({prop:s,defaultProp:a,onChange:u});return d.jsx(ft,{...l,children:d.jsx(Kt,{scope:r,contentId:L(),triggerRef:v,open:h,onOpenChange:g,onOpenToggle:n.useCallback(()=>g(b=>!b),[g]),hasCustomAnchor:i,onCustomAnchorAdd:n.useCallback(()=>m(!0),[]),onCustomAnchorRemove:n.useCallback(()=>m(!1),[]),modal:c,children:t})})};Ue.displayName=he;var Ve="PopoverAnchor",Ut=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=$(Ve,t),u=X(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=a;return n.useEffect(()=>(c(),()=>l()),[c,l]),d.jsx(_e,{...u,...s,ref:r})});Ut.displayName=Ve;var qe="PopoverTrigger",Ge=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=$(qe,t),u=X(t),c=ve(r,a.triggerRef),l=d.jsx(M.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Je(a.open),...s,ref:c,onClick:B(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:d.jsx(_e,{asChild:!0,...u,children:l})});Ge.displayName=qe;var ge="PopoverPortal",[Vt,qt]=Ke(ge,{forceMount:void 0}),He=e=>{const{__scopePopover:r,forceMount:t,children:s,container:a}=e,u=$(ge,r);return d.jsx(Vt,{scope:r,forceMount:t,children:d.jsx(Te,{present:t||u.open,children:d.jsx(mt,{asChild:!0,container:a,children:s})})})};He.displayName=ge;var H="PopoverContent",ze=n.forwardRef((e,r)=>{const t=qt(H,e.__scopePopover),{forceMount:s=t.forceMount,...a}=e,u=$(H,e.__scopePopover);return d.jsx(Te,{present:s||u.open,children:u.modal?d.jsx(Gt,{...a,ref:r}):d.jsx(Ht,{...a,ref:r})})});ze.displayName=H;var Gt=n.forwardRef((e,r)=>{const t=$(H,e.__scopePopover),s=n.useRef(null),a=ve(r,s),u=n.useRef(!1);return n.useEffect(()=>{const c=s.current;if(c)return Ct(c)},[]),d.jsx(wt,{as:vt,allowPinchZoom:!0,children:d.jsx(We,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:B(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),u.current||(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:B(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,v=l.button===0&&l.ctrlKey===!0,i=l.button===2||v;u.current=i},{checkForDefaultPrevented:!1}),onFocusOutside:B(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ht=n.forwardRef((e,r)=>{const t=$(H,e.__scopePopover),s=n.useRef(!1),a=n.useRef(!1);return d.jsx(We,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,u),u.defaultPrevented||(s.current||(l=t.triggerRef.current)==null||l.focus(),u.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:u=>{var v,i;(v=e.onInteractOutside)==null||v.call(e,u),u.defaultPrevented||(s.current=!0,u.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=u.target;((i=t.triggerRef.current)==null?void 0:i.contains(c))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&a.current&&u.preventDefault()}})}),We=n.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:v,onFocusOutside:i,onInteractOutside:m,...h}=e,g=$(H,t),b=X(t);return Ot(),d.jsx($e,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:u,children:d.jsx(ht,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:v,onFocusOutside:i,onDismiss:()=>g.onOpenChange(!1),children:d.jsx(gt,{"data-state":Je(g.open),role:"dialog",id:g.contentId,...b,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Be="PopoverClose",zt=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=$(Be,t);return d.jsx(M.button,{type:"button",...s,ref:r,onClick:B(e.onClick,()=>a.onOpenChange(!1))})});zt.displayName=Be;var Wt="PopoverArrow",Bt=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=X(t);return d.jsx(xt,{...a,...s,ref:r})});Bt.displayName=Wt;function Je(e){return e?"open":"closed"}var Jt=Ue,Xt=Ge,Yt=He,Xe=ze;const Zt=Jt,Qt=Xt,Ye=n.forwardRef(({className:e,align:r="center",sideOffset:t=4,...s},a)=>d.jsx(Yt,{children:d.jsx(Xe,{ref:a,align:r,sideOffset:t,className:U("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...s})}));Ye.displayName=Xe.displayName;function er({children:e,onOpenChange:r,open:t}){return d.jsx(Zt,{open:t,onOpenChange:r,children:e})}function tr({children:e,className:r,...t}){return d.jsx(Ye,{className:bt("bg-white",r),...t,onOpenAutoFocus:s=>s.preventDefault(),children:e})}function rr({children:e,asChild:r}){return d.jsx(Qt,{asChild:r,children:e})}const ce=Object.assign(er,{Content:tr,Trigger:rr});var je=1,nr=.9,or=.8,ar=.17,ie=.1,de=.999,lr=.9999,sr=.99,ur=/[\\\/_+.#"@\[\(\{&]/,cr=/[\\\/_+.#"@\[\(\{&]/g,ir=/[\s-]/,Ze=/[\s-]/g;function pe(e,r,t,s,a,u,c){if(u===r.length)return a===e.length?je:sr;var l=`${a},${u}`;if(c[l]!==void 0)return c[l];for(var v=s.charAt(u),i=t.indexOf(v,a),m=0,h,g,b,O;i>=0;)h=pe(e,r,t,s,i+1,u+1,c),h>m&&(i===a?h*=je:ur.test(e.charAt(i-1))?(h*=or,b=e.slice(a,i-1).match(cr),b&&a>0&&(h*=Math.pow(de,b.length))):ir.test(e.charAt(i-1))?(h*=nr,O=e.slice(a,i-1).match(Ze),O&&a>0&&(h*=Math.pow(de,O.length))):(h*=ar,a>0&&(h*=Math.pow(de,i-a))),e.charAt(i)!==r.charAt(u)&&(h*=lr)),(h<ie&&t.charAt(i-1)===s.charAt(u+1)||s.charAt(u+1)===s.charAt(u)&&t.charAt(i-1)!==s.charAt(u))&&(g=pe(e,r,t,s,i+1,u+2,c),g*ie>h&&(h=g*ie)),h>m&&(m=h),i=t.indexOf(v,i+1);return c[l]=m,m}function Oe(e){return e.toLowerCase().replace(Ze," ")}function dr(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,pe(e,r,Oe(e),Oe(r),0,0,{})}var W='[cmdk-group=""]',fe='[cmdk-group-items=""]',fr='[cmdk-group-heading=""]',Qe='[cmdk-item=""]',Fe=`${Qe}:not([aria-disabled="true"])`,me="cmdk-item-select",q="data-value",pr=(e,r,t)=>dr(e,r,t),et=n.createContext(void 0),Y=()=>n.useContext(et),tt=n.createContext(void 0),xe=()=>n.useContext(tt),rt=n.createContext(void 0),nt=n.forwardRef((e,r)=>{let t=G(()=>{var o,p;return{search:"",value:(p=(o=e.value)!=null?o:e.defaultValue)!=null?p:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=G(()=>new Set),a=G(()=>new Map),u=G(()=>new Map),c=G(()=>new Set),l=ot(e),{label:v,children:i,value:m,onValueChange:h,filter:g,shouldFilter:b,loop:O,disablePointerSelection:y=!1,vimBindings:R=!0,...w}=e,k=L(),F=L(),S=L(),_=n.useRef(null),P=Pr();K(()=>{if(m!==void 0){let o=m.trim();t.current.value=o,A.emit()}},[m]),K(()=>{P(6,ye)},[]);let A=n.useMemo(()=>({subscribe:o=>(c.current.add(o),()=>c.current.delete(o)),snapshot:()=>t.current,setState:(o,p,x)=>{var f,E,C,j;if(!Object.is(t.current[o],p)){if(t.current[o]=p,o==="search")ne(),te(),P(1,re);else if(o==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let N=document.getElementById(S);N?N.focus():(f=document.getElementById(k))==null||f.focus()}if(P(7,()=>{var N;t.current.selectedItemId=(N=V())==null?void 0:N.id,A.emit()}),x||P(5,ye),((E=l.current)==null?void 0:E.value)!==void 0){let N=p??"";(j=(C=l.current).onValueChange)==null||j.call(C,N);return}}A.emit()}},emit:()=>{c.current.forEach(o=>o())}}),[]),ee=n.useMemo(()=>({value:(o,p,x)=>{var f;p!==((f=u.current.get(o))==null?void 0:f.value)&&(u.current.set(o,{value:p,keywords:x}),t.current.filtered.items.set(o,be(p,x)),P(2,()=>{te(),A.emit()}))},item:(o,p)=>(s.current.add(o),p&&(a.current.has(p)?a.current.get(p).add(o):a.current.set(p,new Set([o]))),P(3,()=>{ne(),te(),t.current.value||re(),A.emit()}),()=>{u.current.delete(o),s.current.delete(o),t.current.filtered.items.delete(o);let x=V();P(4,()=>{ne(),(x==null?void 0:x.getAttribute("id"))===o&&re(),A.emit()})}),group:o=>(a.current.has(o)||a.current.set(o,new Set),()=>{u.current.delete(o),a.current.delete(o)}),filter:()=>l.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:k,inputId:S,labelId:F,listInnerRef:_}),[]);function be(o,p){var x,f;let E=(f=(x=l.current)==null?void 0:x.filter)!=null?f:pr;return o?E(o,t.current.search,p):0}function te(){if(!t.current.search||l.current.shouldFilter===!1)return;let o=t.current.filtered.items,p=[];t.current.filtered.groups.forEach(f=>{let E=a.current.get(f),C=0;E.forEach(j=>{let N=o.get(j);C=Math.max(N,C)}),p.push([f,C])});let x=_.current;z().sort((f,E)=>{var C,j;let N=f.getAttribute("id"),Z=E.getAttribute("id");return((C=o.get(Z))!=null?C:0)-((j=o.get(N))!=null?j:0)}).forEach(f=>{let E=f.closest(fe);E?E.appendChild(f.parentElement===E?f:f.closest(`${fe} > *`)):x.appendChild(f.parentElement===x?f:f.closest(`${fe} > *`))}),p.sort((f,E)=>E[1]-f[1]).forEach(f=>{var E;let C=(E=_.current)==null?void 0:E.querySelector(`${W}[${q}="${encodeURIComponent(f[0])}"]`);C==null||C.parentElement.appendChild(C)})}function re(){let o=z().find(x=>x.getAttribute("aria-disabled")!=="true"),p=o==null?void 0:o.getAttribute(q);A.setState("value",p||void 0)}function ne(){var o,p,x,f;if(!t.current.search||l.current.shouldFilter===!1){t.current.filtered.count=s.current.size;return}t.current.filtered.groups=new Set;let E=0;for(let C of s.current){let j=(p=(o=u.current.get(C))==null?void 0:o.value)!=null?p:"",N=(f=(x=u.current.get(C))==null?void 0:x.keywords)!=null?f:[],Z=be(j,N);t.current.filtered.items.set(C,Z),Z>0&&E++}for(let[C,j]of a.current)for(let N of j)if(t.current.filtered.items.get(N)>0){t.current.filtered.groups.add(C);break}t.current.filtered.count=E}function ye(){var o,p,x;let f=V();f&&(((o=f.parentElement)==null?void 0:o.firstChild)===f&&((x=(p=f.closest(W))==null?void 0:p.querySelector(fr))==null||x.scrollIntoView({block:"nearest"})),f.scrollIntoView({block:"nearest"}))}function V(){var o;return(o=_.current)==null?void 0:o.querySelector(`${Qe}[aria-selected="true"]`)}function z(){var o;return Array.from(((o=_.current)==null?void 0:o.querySelectorAll(Fe))||[])}function oe(o){let p=z()[o];p&&A.setState("value",p.getAttribute(q))}function ae(o){var p;let x=V(),f=z(),E=f.findIndex(j=>j===x),C=f[E+o];(p=l.current)!=null&&p.loop&&(C=E+o<0?f[f.length-1]:E+o===f.length?f[0]:f[E+o]),C&&A.setState("value",C.getAttribute(q))}function Ee(o){let p=V(),x=p==null?void 0:p.closest(W),f;for(;x&&!f;)x=o>0?Cr(x,W):wr(x,W),f=x==null?void 0:x.querySelector(Fe);f?A.setState("value",f.getAttribute(q)):ae(o)}let Ce=()=>oe(z().length-1),we=o=>{o.preventDefault(),o.metaKey?Ce():o.altKey?Ee(1):ae(1)},Pe=o=>{o.preventDefault(),o.metaKey?oe(0):o.altKey?Ee(-1):ae(-1)};return n.createElement(M.div,{ref:r,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:o=>{var p;(p=w.onKeyDown)==null||p.call(w,o);let x=o.nativeEvent.isComposing||o.keyCode===229;if(!(o.defaultPrevented||x))switch(o.key){case"n":case"j":{R&&o.ctrlKey&&we(o);break}case"ArrowDown":{we(o);break}case"p":case"k":{R&&o.ctrlKey&&Pe(o);break}case"ArrowUp":{Pe(o);break}case"Home":{o.preventDefault(),oe(0);break}case"End":{o.preventDefault(),Ce();break}case"Enter":{o.preventDefault();let f=V();if(f){let E=new Event(me);f.dispatchEvent(E)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:ee.inputId,id:ee.labelId,style:kr},v),Q(e,o=>n.createElement(tt.Provider,{value:A},n.createElement(et.Provider,{value:ee},o))))}),mr=n.forwardRef((e,r)=>{var t,s;let a=L(),u=n.useRef(null),c=n.useContext(rt),l=Y(),v=ot(e),i=(s=(t=v.current)==null?void 0:t.forceMount)!=null?s:c==null?void 0:c.forceMount;K(()=>{if(!i)return l.item(a,c==null?void 0:c.id)},[i]);let m=at(a,u,[e.value,e.children,u],e.keywords),h=xe(),g=D(P=>P.value&&P.value===m.current),b=D(P=>i||l.filter()===!1?!0:P.search?P.filtered.items.get(a)>0:!0);n.useEffect(()=>{let P=u.current;if(!(!P||e.disabled))return P.addEventListener(me,O),()=>P.removeEventListener(me,O)},[b,e.onSelect,e.disabled]);function O(){var P,A;y(),(A=(P=v.current).onSelect)==null||A.call(P,m.current)}function y(){h.setState("value",m.current,!0)}if(!b)return null;let{disabled:R,value:w,onSelect:k,forceMount:F,keywords:S,..._}=e;return n.createElement(M.div,{ref:J(u,r),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!g,"data-disabled":!!R,"data-selected":!!g,onPointerMove:R||l.getDisablePointerSelection()?void 0:y,onClick:R?void 0:O},e.children)}),vr=n.forwardRef((e,r)=>{let{heading:t,children:s,forceMount:a,...u}=e,c=L(),l=n.useRef(null),v=n.useRef(null),i=L(),m=Y(),h=D(b=>a||m.filter()===!1?!0:b.search?b.filtered.groups.has(c):!0);K(()=>m.group(c),[]),at(c,l,[e.value,e.heading,v]);let g=n.useMemo(()=>({id:c,forceMount:a}),[a]);return n.createElement(M.div,{ref:J(l,r),...u,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&n.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:i},t),Q(e,b=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?i:void 0},n.createElement(rt.Provider,{value:g},b))))}),hr=n.forwardRef((e,r)=>{let{alwaysRender:t,...s}=e,a=n.useRef(null),u=D(c=>!c.search);return!t&&!u?null:n.createElement(M.div,{ref:J(a,r),...s,"cmdk-separator":"",role:"separator"})}),gr=n.forwardRef((e,r)=>{let{onValueChange:t,...s}=e,a=e.value!=null,u=xe(),c=D(i=>i.search),l=D(i=>i.selectedItemId),v=Y();return n.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),n.createElement(M.input,{ref:r,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":l,id:v.inputId,type:"text",value:a?e.value:c,onChange:i=>{a||u.setState("search",i.target.value),t==null||t(i.target.value)}})}),xr=n.forwardRef((e,r)=>{let{children:t,label:s="Suggestions",...a}=e,u=n.useRef(null),c=n.useRef(null),l=D(i=>i.selectedItemId),v=Y();return n.useEffect(()=>{if(c.current&&u.current){let i=c.current,m=u.current,h,g=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let b=i.offsetHeight;m.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return g.observe(i),()=>{cancelAnimationFrame(h),g.unobserve(i)}}},[]),n.createElement(M.div,{ref:J(u,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:v.listId},Q(e,i=>n.createElement("div",{ref:J(c,v.listInnerRef),"cmdk-list-sizer":""},i)))}),br=n.forwardRef((e,r)=>{let{open:t,onOpenChange:s,overlayClassName:a,contentClassName:u,container:c,...l}=e;return n.createElement(Pt,{open:t,onOpenChange:s},n.createElement(Rt,{container:c},n.createElement(kt,{"cmdk-overlay":"",className:a}),n.createElement(Nt,{"aria-label":e.label,"cmdk-dialog":"",className:u},n.createElement(nt,{ref:r,...l}))))}),yr=n.forwardRef((e,r)=>D(t=>t.filtered.count===0)?n.createElement(M.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Er=n.forwardRef((e,r)=>{let{progress:t,children:s,label:a="Loading...",...u}=e;return n.createElement(M.div,{ref:r,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Q(e,c=>n.createElement("div",{"aria-hidden":!0},c)))}),I=Object.assign(nt,{List:xr,Item:mr,Input:gr,Group:vr,Separator:hr,Dialog:br,Empty:yr,Loading:Er});function Cr(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function wr(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function ot(e){let r=n.useRef(e);return K(()=>{r.current=e}),r}var K=typeof window>"u"?n.useEffect:n.useLayoutEffect;function G(e){let r=n.useRef();return r.current===void 0&&(r.current=e()),r}function D(e){let r=xe(),t=()=>e(r.snapshot());return n.useSyncExternalStore(r.subscribe,t,t)}function at(e,r,t,s=[]){let a=n.useRef(),u=Y();return K(()=>{var c;let l=(()=>{var i;for(let m of t){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(i=m.current.textContent)==null?void 0:i.trim():a.current}})(),v=s.map(i=>i.trim());u.value(e,l,v),(c=r.current)==null||c.setAttribute(q,l),a.current=l}),a}var Pr=()=>{let[e,r]=n.useState(),t=G(()=>new Map);return K(()=>{t.current.forEach(s=>s()),t.current=new Map},[e]),(s,a)=>{t.current.set(s,a),r({})}};function Rr(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function Q({asChild:e,children:r},t){return e&&n.isValidElement(r)?n.cloneElement(Rr(r),{ref:r.ref},t(r.props.children)):t(r)}var kr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const lt=n.forwardRef(({className:e,...r},t)=>d.jsx(I,{ref:t,className:U("flex h-full w-full flex-col overflow-hidden rounded-md bg-white text-neutral-950 dark:bg-neutral-950 dark:text-neutral-50",e),...r}));lt.displayName=I.displayName;const st=n.forwardRef(({className:e,...r},t)=>d.jsxs("div",{className:"flex items-center border-b px-1 gap-2","cmdk-input-wrapper":"",children:[d.jsx(De,{iconName:"Search",className:"text-neutral-700"}),d.jsx(I.Input,{ref:t,className:U("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-neutral-500 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-neutral-400 !text-body-medium",e),...r})]}));st.displayName=I.Input.displayName;const ut=n.forwardRef(({className:e,...r},t)=>d.jsx(I.List,{ref:t,className:U("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));ut.displayName=I.List.displayName;const ct=n.forwardRef((e,r)=>d.jsx(I.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));ct.displayName=I.Empty.displayName;const Nr=n.forwardRef(({className:e,...r},t)=>d.jsx(I.Group,{ref:t,className:U("overflow-hidden p-1 text-neutral-950 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-neutral-500 dark:text-neutral-50 dark:[&_[cmdk-group-heading]]:text-neutral-400",e),...r}));Nr.displayName=I.Group.displayName;const Sr=n.forwardRef(({className:e,...r},t)=>d.jsx(I.Separator,{ref:t,className:U("-mx-1 h-px bg-neutral-200 dark:bg-neutral-800",e),...r}));Sr.displayName=I.Separator.displayName;const it=n.forwardRef(({className:e,...r},t)=>d.jsx(I.Item,{ref:t,className:U("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-neutral-100 data-[selected=true]:text-neutral-900 data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:data-[selected='true']:bg-neutral-800 dark:data-[selected=true]:text-neutral-50",e),...r}));it.displayName=I.Item.displayName;function Ar({shouldFilter:e=!0,loading:r,options:t,onChange:s,onSearchChange:a,notFound:u,register:c,name:l,showSearch:v,selectedValue:i,valueKey:m="value",customLabel:h}){return d.jsxs(lt,{shouldFilter:e,children:[v&&d.jsx(st,{placeholder:"Pesquise",autoFocus:!0,className:"text-body-medium text-neutral-700",onValueChange:a}),d.jsx(ut,{...l?c==null?void 0:c(l):{},children:r?d.jsx("div",{className:"flex items-center justify-center p-2",children:d.jsx(yt,{})}):d.jsxs(d.Fragment,{children:[d.jsx(ct,{className:"text-neutral-700 flex items-center justify-center p-2 text-body-medium min-h-14",children:u||"Nenhum item encontrado"}),t.map(g=>d.jsxs(it,{value:g[m],"data-cy":`select-option-${g.value}`,onSelect:s,className:"flex !text-neutral-700 text-body-medium",keywords:[g.label],children:[d.jsxs("div",{className:"flex-1",children:[h?h(g):d.jsx("p",{children:"option.label"}),g.description&&d.jsx("p",{className:"text-label-medium text-neutral-500",children:g.description})]}),i===g.value&&d.jsx(De,{iconName:"Check"})]},g.value))]})})]})}function Mr({options:e,name:r,disabled:t,loading:s=!1,hideErrorLabel:a,label:u,required:c=!1,onChange:l,onSearchChange:v,shouldFilter:i=!0,notFound:m}){var w;const[h,g]=n.useState(!1),{register:b,control:O}=St(),{field:y}=At({name:r,control:O}),R=y.value;return n.useEffect(()=>{t&&g(!1)},[t]),d.jsxs("label",{className:"flex flex-col",children:[d.jsx(It,{label:u,required:c}),d.jsxs(ce,{open:h,onOpenChange:g,children:[d.jsx(ce.Trigger,{asChild:!0,children:d.jsx(Et,{variant:"secondary",label:R&&((w=e.find(k=>k.value===R))==null?void 0:w.label)||"Selecione um item",tooltipMessage:void 0,iconRight:"UnfoldMore",fullWidth:!0,state:t?"disabled":void 0,className:"!h-10","data-cy":`select-${r}`})}),d.jsx(ce.Content,{align:"start",className:"!p-2",children:d.jsx(Ar,{shouldFilter:i,loading:s,options:e,onChange:k=>{k===R?(l==null||l(void 0),y.onChange("")):(l==null||l(k),y.onChange(k)),g(!1)},register:b,name:r,notFound:m,showSearch:!0,selectedValue:R,onSearchChange:k=>{l==null||l(void 0),y.onChange(""),v==null||v(k)}})})]}),a||d.jsx(jt,{name:r,required:c})]})}export{Ar as C,ce as P,Mr as S};

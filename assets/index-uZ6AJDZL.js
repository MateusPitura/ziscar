import{S as E,a as y,i as S,u as V,b as u}from"./index-h2bqbBtY.js";import{D as N,k as v,a as t,G as A,H as C,J as P,q as I,K as g,L as T}from"./index-PgcJxcI8.js";import{x as n,y as F,z as L,w as r,A as o,B as c,C as U,D,E as e,G as M,H as f,J as O}from"./schemas-C0lewGoY.js";const Y="INACTIVE",_=[...N.filter(a=>a!==v.SOLD),Y],x=n({startDate:f().or(e()),endDate:f().or(e()),storeId:r().or(e()),brandId:r().or(e()),status:o(_).or(e()),category:o(P).or(e()),modelYear:o(C).or(e()),yearOfManufacture:o(A).or(e()),modelName:r().or(e()),plateNumber:r(8).transform(a=>a.replace(/[^A-Z0-9]/gi,"")).or(e()),announcedPriceMin:c({formatter:a=>t(a,"money")??""}).or(e()),announcedPriceMax:c({formatter:a=>t(a,"money")??""}).or(e())}).refine(...O),q=n({payment:n({purchaseDate:M(),paidTo:r().or(e()),upfront:y,installment:E.nullable()}),vehicle:n({plateNumber:D(),chassiNumber:U(),announcedPrice:c({formatter:a=>t(a,"money")??""}),minimumPrice:c({formatter:a=>t(a,"money")??""}),commissionValue:c({min:0,formatter:a=>t(a,"money")??""}),storeId:r(),kilometers:c({min:0,max:1e6,formatter:a=>t(a,"number")??""}),modelName:r().or(e()),brandId:r(),color:r().or(e()),modelYear:o(C).or(e()),yearOfManufacture:o(A).or(e()),fuelType:o(g).or(e()),status:o(N),category:o(P).or(e())}),characteristics:n({commonCharacteristics:L(I),newCharacteristics:F(n({description:r()}),10)})}).superRefine(S).superRefine(V).superRefine((a,s)=>{const{modelYear:i,yearOfManufacture:m}=a.vehicle;i!==""&&m!==""&&(Number(i)<Number(m)||Number(i)>Number(m)+1)&&u(s,"vehicle.modelYear","O ano do modelo deve ser igual ou 1 ano a mais ao ano de fabricação")}).superRefine((a,s)=>{var h;const{vehicle:i,payment:m}=a,l=Number(i.minimumPrice)||0,R=Number(i.announcedPrice)||0,p=Number(i.commissionValue)||0;if(R<l&&u(s,"vehicle.announcedPrice","Preço anunciado menor que o preço mínimo"),p>=l&&u(s,"vehicle.commissionValue","Comissão maior ou igual ao preço mínimo"),m.installment===null)return!0;const d=Number(m.installment.value)||0,b=Number((h=m.upfront[0])==null?void 0:h.value)||0;l<=d+b&&u(s,"vehicle.minimumPrice","Mínimo menor ou igual ao valor de compra"),p>=l-(d+b)&&u(s,"vehicle.commissionValue","Comissão maior ou igual ao lucro")}),w=n({payment:n({observations:r().or(e()),category:o(T),competencyDate:f(),upfront:y,installment:E.nullable()})}).superRefine(S).superRefine(V);export{x as S,Y as V,_ as a,q as b,w as c};

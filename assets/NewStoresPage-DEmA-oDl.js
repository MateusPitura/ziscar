import{b as p,d as f,a as S,e as l,j as e,y,f as E}from"./index-BXJS51rz.js";import{u as g}from"./useIsFetching-HHM2lV44.js";import{p as C}from"./parseAddressToCreate-D-7d1H4W.js";import{S as T}from"./StoreForm-Ckr1nX1X.js";import"./schemas-C0ld1-yh.js";import"./index-C4UhScN6.js";import"./index-Bvyl6yly.js";import"./PageHeader-BSFnyFeG.js";import"./PageFooter-LcjYvHmm.js";import"./AddressFields-D10D38O3.js";function h(){const{safeFetch:t}=p(),s=g({queryKey:["cepApi"]}),o=f(),r=S();async function a(u){const{address:c,...m}=u,d=C({address:c});await t(`${E}/store`,{method:"POST",body:{...m,address:d},resource:"STORES",action:"CREATE"})}const{mutate:i,isPending:n}=l({mutationFn:a,onSuccess:()=>{r("/stores"),o.invalidateQueries({queryKey:["stores"]})}});return e.jsx(T,{defaultValues:y,onSubmit:i,isPending:n||!!s,headerTitle:"Nova loja",resource:"STORES",action:"CREATE"})}function w(){return e.jsx(h,{})}export{w as default};

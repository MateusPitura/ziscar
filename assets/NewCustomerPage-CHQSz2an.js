import{b as C,d as f,a as l,c as S,e as y,j as e,A as E,f as g}from"./index-CV0TP6Xw.js";import{u as h}from"./useIsFetching-DbePOVqm.js";import{p as A}from"./parseAddressToCreate-D-7d1H4W.js";import{C as T}from"./CustomerForm-I9HK1qMC.js";import"./index-D0UprIr6.js";import"./index-DUPOCjG2.js";import"./PageHeader-CYamZWWv.js";import"./PageFooter-wK_25X2U.js";import"./AddressFields-CvTF2Vnb.js";import"./CustomerFormInputs-BjrJbHp6.js";function F(){const{safeFetch:s}=C(),t=h({queryKey:["cepApi"]}),o=f(),r=l(),{showSuccessSnackbar:a}=S();async function i(c){const{address:m,...d}=c,p=A({address:m});await s(`${g}/customer`,{method:"POST",body:{...d,address:p},resource:"CUSTOMERS",action:"CREATE"})}const{mutate:n,isPending:u}=y({mutationFn:i,onSuccess:()=>{a({title:"Cliente criado com sucesso"}),r("/customers"),o.invalidateQueries({queryKey:["customers"]})}});return e.jsx(T,{defaultValues:E,onSubmit:n,isPending:u||!!t,headerTitle:"Novo cliente",resource:"CUSTOMERS",action:"CREATE"})}function M(){return e.jsx(F,{})}export{M as default};

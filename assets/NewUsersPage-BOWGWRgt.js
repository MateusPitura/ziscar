import{r as o,j as t,v as l,w as d,x as p,t as x,y as f,F as y,z as E}from"./index-Bk1-U1gT.js";import{u as S,U as h}from"./UserForm-XkM6XIrM.js";import"./index-DIBAWhTZ.js";import"./useButtonState-B12HSnGx.js";import"./Choice-D-eKCops.js";import"./Loading-Dzwhq4Sl.js";import"./Section-BLbuff5n.js";const v=o.createContext(null);function U({children:a}){const[e,r]=o.useState("");function s(i){r(i)}const n=o.useMemo(()=>({example:e,handleExample:s}),[e]);return t.jsx(v.Provider,{value:n,children:a})}function C(){const{safeFetch:a}=l(),{showSuccessSnackbar:e}=d(),r=S({queryKey:["cepApi"]}),s=p(),n=x();async function i(m){await a(`${E}/user`,{method:"POST",body:m,resource:"USERS",action:"CREATE"})}const{mutate:u,isPending:c}=f({mutationFn:i,onSuccess:()=>{e({title:"Um email será enviado",description:"Confira também a caixa de spam"}),n("/users"),s.invalidateQueries({queryKey:["users"]}),s.invalidateQueries({queryKey:["usersDashboard"]})}});return t.jsx(h,{defaultValues:y,onSubmit:u,isPending:c||!!r,headerPrimaryBtnLabel:"Criar",headerTitle:"Novo usuário",resource:"USERS",action:"CREATE",allowEditRole:!0})}function j(){return t.jsx(U,{children:t.jsx(C,{})})}export{j as default};

import{r as n,j as s,u as f,b as x,c as E,i as S,d as U,O as C,e as g}from"./index-CrVTpVTI.js";import{u as h}from"./useIsFetching-Dh2N-bBa.js";import{U as v}from"./UserForm-C0yrGMfq.js";import{p as y}from"./parseAddressToCreate-D-7d1H4W.js";import"./schemas-B7gcU9vp.js";import"./useButtonState-C7TXS9Jx.js";import"./Choice-LKCp7m0f.js";import"./AddressFields-DlZGQI2J.js";import"./FieldArray-DswNorv6.js";import"./Select-CB-6jpCF.js";import"./dialog-Ct9-qcrh.js";import"./PageHeader-DARJqnt5.js";import"./Section-DVwlB0L5.js";import"./Dialog-BHTFXl4K.js";import"./DialogContext-3LqbYYdn.js";import"./index-BEH4ThDo.js";import"./index-CLx72V5J.js";const P=n.createContext(null);function w({children:t}){const[e,r]=n.useState("");function o(i){r(i)}const a=n.useMemo(()=>({example:e,handleExample:o}),[e]);return s.jsx(P.Provider,{value:a,children:t})}function N(){const{safeFetch:t}=f(),{showSuccessSnackbar:e}=x(),r=h({queryKey:["cepApi"]}),o=E(),a=S();async function i(m){const{address:p,...d}=m,l=y({address:p});await t(`${g}/user`,{method:"POST",body:{...d,address:l},resource:"USERS",action:"CREATE"})}const{mutate:u,isPending:c}=U({mutationFn:i,onSuccess:()=>{e({title:"Um email será enviado",description:"Confira também a caixa de spam"}),a("/users"),o.invalidateQueries({queryKey:["users"]})}});return s.jsx(v,{defaultValues:C,onSubmit:u,isPending:c||!!r,headerTitle:"Novo usuário",resource:"USERS",action:"CREATE",allowEditRole:!0})}function L(){return s.jsx(w,{children:s.jsx(N,{})})}export{L as default};

import{b as S,d as f,a as l,c as y,e as E,j as e,n as g,f as h}from"./index-BC9ZHEaH.js";import{u as C}from"./useIsFetching-BI7lTYCZ.js";import{p as T}from"./parseAddressToCreate-D-7d1H4W.js";import{S as j}from"./StoreForm-DJcaaM_F.js";import"./schemas-B-PX8buY.js";import"./index-D61BL4-6.js";import"./index-BN-gxorm.js";import"./PageHeader-rTjd1jJN.js";import"./PageFooter-BGzOzEIa.js";import"./AddressFields-CnbNabvh.js";function A(){const{safeFetch:s}=S(),t=C({queryKey:["cepApi"]}),o=f(),r=l(),{showSuccessSnackbar:a}=y();async function n(u){const{address:m,...d}=u,p=T({address:m});await s(`${h}/store`,{method:"POST",body:{...d,address:p},resource:"STORES",action:"CREATE"})}const{mutate:i,isPending:c}=E({mutationFn:n,onSuccess:()=>{a({title:"Loja criada com sucesso"}),r("/stores"),o.invalidateQueries({queryKey:["stores"]})}});return e.jsx(j,{defaultValues:g,onSubmit:i,isPending:c||!!t,headerTitle:"Nova loja",resource:"STORES",action:"CREATE"})}function O(){return e.jsx(A,{})}export{O as default};

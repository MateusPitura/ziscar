import{r as y,a3 as m,w as l,a4 as d,j as e,n as M,a5 as i,a6 as f,a7 as D,y as u,a as h}from"./index-CnY9f91V.js";import{F as j}from"./FieldArray-Ckm8lv6T.js";import{I as r}from"./schemas-CZyi_FYc.js";import{S as o}from"./Select-7V9bPDz1.js";import{u as c}from"./useDialog-DgUnmKfd.js";import{D as E}from"./DataField-wmA4TIPk.js";function g({isAccountReceivable:s}){const{watch:n,setValue:t}=c(),a=n("payment.upfront.0.status");return y.useEffect(()=>{a===m.PENDING?(t("payment.upfront.0.paymentDate",""),t("payment.upfront.0.paymentMethod",""),t("payment.upfront.0.dueDate",l({date:new Date,format:"yyyy-MM-dd"}))):a===m.PAID&&(t("payment.upfront.0.dueDate",""),t("payment.upfront.0.paymentDate",l({date:new Date,format:"yyyy-MM-dd"})),t("payment.upfront.0.paymentMethod",d.CREDIT_CARD))},[a,t]),e.jsx(j,{name:"payment.upfront",appendText:"Adicionar entrada",removeText:"Remover entrada",maxLength:1,title:"Informação da entrada",className:"grid-cols-3",appendDefaultValues:M.payment.installment,render:()=>e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Valor",name:"payment.upfront.0.value",mask:"money",required:!0}),e.jsx(o,{label:"Status do pagamento",name:"payment.upfront.0.status",options:i,required:!0}),a===m.PAID?e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Data de pagamento",name:"payment.upfront.0.paymentDate",type:"date",required:!0}),e.jsx(o,{label:"Forma de pagamento",name:"payment.upfront.0.paymentMethod",options:s?f:D,required:!0})]}):e.jsx(r,{label:"Data de vencimento",name:"payment.upfront.0.dueDate",type:"date",required:!0})]})})}function T(s,n){const t=Number(u(s))||0,a=Number(u(n??"0"))||0,p=t+a;return h(p.toString(),"money")}function F({isAccountReceivable:s}){const{watch:n,setValue:t}=c(),a=n("payment.installment.status"),p=n("payment.installment.value"),x=n("payment.upfront.0.value");return y.useEffect(()=>{a===m.PENDING?(t("payment.installment.paymentDate",""),t("payment.installment.dueDate",l({date:new Date,format:"yyyy-MM-dd"})),t("payment.installment.paymentMethod","")):a===m.PAID&&(t("payment.installment.dueDate",""),t("payment.installment.paymentDate",l({date:new Date,format:"yyyy-MM-dd"})),t("payment.installment.paymentMethod",d.CREDIT_CARD))},[a,t]),e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Valor",name:"payment.installment.value",mask:"money",required:!0}),e.jsx(o,{label:"Status do pagamento",name:"payment.installment.status",options:i,required:!0}),a===m.PAID?e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Data de pagamento",name:"payment.installment.paymentDate",type:"date",required:!0}),e.jsx(o,{label:"Forma de pagamento",name:"payment.installment.paymentMethod",options:s?f:D,required:!0})]}):e.jsx(r,{label:"Data de vencimento",name:"payment.installment.dueDate",type:"date",required:!0}),e.jsx("div",{className:"col-span-full w-fit",children:e.jsx(E,{label:"Valor total",value:T(p,x)})})]})}export{F as P,g as U};

import{r as u,a4 as m,a5 as i,j as e,m as x,a6 as y,a7 as d,a8 as f,x as p,a as h}from"./index-UdT0GBA4.js";import{I as s}from"./schemas-BggDEbt9.js";import{S as l}from"./Select-DxVA1XCQ.js";import{u as c}from"./useButtonState-N-GWfCKe.js";import{F as j}from"./FieldArray-B-TaBd7C.js";import{D as E}from"./DataField-C0EWm-gj.js";function v({isAccountReceivable:r}){const{watch:n,setValue:t}=c(),a=n("payment.upfront.0.status");return u.useEffect(()=>{a===m.PENDING?(t("payment.upfront.0.paymentDate",""),t("payment.upfront.0.paymentMethod","")):a===m.PAID&&(t("payment.upfront.0.dueDate",""),t("payment.upfront.0.paymentMethod",i.CREDIT_CARD))},[a,t]),e.jsx(j,{name:"payment.upfront",appendText:"Adicionar entrada",removeText:"Remover entrada",maxLength:1,appendDefaultValues:x.payment.installment,render:()=>e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Valor",name:"payment.upfront.0.value",mask:"money",required:!0}),e.jsx(l,{label:"Status do pagamento",name:"payment.upfront.0.status",options:y,required:!0}),a===m.PAID?e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Data de pagamento",name:"payment.upfront.0.paymentDate",type:"date",required:!0}),e.jsx(l,{label:"Forma de pagamento",name:"payment.upfront.0.paymentMethod",options:r?d:f,required:!0})]}):e.jsx(s,{label:"Data de vencimento",name:"payment.upfront.0.dueDate",type:"date",required:!0})]})})}function T(r,n){const t=Number(p(r))||0,a=Number(p(n??"0"))||0,o=t+a;return h(o.toString(),"money")}function N({isAccountReceivable:r}){const{watch:n,setValue:t}=c(),a=n("payment.installment.status"),o=n("payment.installment.value"),D=n("payment.upfront.0.value");return u.useEffect(()=>{a===m.PENDING?(t("payment.installment.paymentDate",""),t("payment.installment.paymentMethod","")):a===m.PAID&&(t("payment.installment.dueDate",""),t("payment.installment.paymentMethod",i.CREDIT_CARD))},[a,t]),e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Valor",name:"payment.installment.value",mask:"money",required:!0}),e.jsx(l,{label:"Status do pagamento",name:"payment.installment.status",options:y,required:!0}),a===m.PAID?e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Data de pagamento",name:"payment.installment.paymentDate",type:"date",required:!0}),e.jsx(l,{label:"Forma de pagamento",name:"payment.installment.paymentMethod",options:r?d:f,required:!0})]}):e.jsx(s,{label:"Data de vencimento",name:"payment.installment.dueDate",type:"date",required:!0}),e.jsx("div",{className:"col-span-full w-fit",children:e.jsx(E,{label:"Valor total",value:T(o,D),dataCy:"payment-total-value"})})]})}export{N as P,v as U};

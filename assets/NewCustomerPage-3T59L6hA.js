import{u as C,c as f,i as l,b as S,d as y,j as E,$ as g,e as h}from"./index-BZf2WeKU.js";import{p as T}from"./parseAddressToCreate-D-7d1H4W.js";import{u as A}from"./useIsFetching-Ckvpf_4p.js";import{C as F}from"./CustomerForm-B4PdBfEz.js";import"./schemas-uOsodSYq.js";import"./useDialog-Q2f17nT0.js";import"./AddressFields-B9iB5g47.js";import"./FieldArray-F9VSLlp9.js";import"./Section-Bf1M-jgo.js";import"./Select-Brlr1v8A.js";import"./PageHeader-BhNPn7vC.js";import"./index-xiYfcwLl.js";import"./index-4_VLVWB1.js";import"./CustomerFormInputs-BEzoOIj5.js";function D({contextHelper:e}){const{safeFetch:s}=C(),t=A({queryKey:["cepApi"]}),o=f(),r=l(),{showSuccessSnackbar:a}=S();async function i(n){const{address:m,...d}=n,p=T({address:m});await s(`${h}/customer`,{method:"POST",body:{...d,address:p},resource:"CUSTOMERS",action:"CREATE"})}const{mutate:u,isPending:c}=y({mutationFn:i,onSuccess:()=>{a({title:"Cliente criado com sucesso"}),r("/customers"),o.invalidateQueries({queryKey:["customers"]})}});return E.jsx(F,{defaultValues:g,onSubmit:u,isPending:c||!!t,headerTitle:"Novo cliente",resource:"CUSTOMERS",action:"CREATE",contextHelper:e})}export{D as default};

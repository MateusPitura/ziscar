import{r as o,j as a,v as l,w as d,x as p,t as f,y as x,F as y,z as h}from"./index-DpCb8Zub.js";import{u as E}from"./Section-ZokTC3Gm.js";import{U as S}from"./UserForm-DCmtf2y0.js";import"./index-BT4GbdeD.js";import"./Loading-IUelIp8A.js";import"./Choice-X1RMTa7h.js";const v=o.createContext(null);function C({children:t}){const[e,r]=o.useState("");function s(i){r(i)}const n=o.useMemo(()=>({example:e,handleExample:s}),[e]);return a.jsx(v.Provider,{value:n,children:t})}function U(){const{safeFetch:t}=l(),{showSuccessSnackbar:e}=d(),r=E({queryKey:["cepApi"]}),s=p(),n=f();async function i(m){await t(`${h}/user`,{method:"POST",body:m,resource:"USERS",action:"CREATE"})}const{mutate:u,isPending:c}=x({mutationFn:i,onSuccess:()=>{e({title:"Enviaremos um email para definir a senha",description:"Confira também a caixa de spam"}),n("/users"),s.invalidateQueries({queryKey:["user"]}),s.invalidateQueries({queryKey:["usersDashboard"]})}});return a.jsx(S,{defaultValues:y,onSubmit:u,isPending:c||!!r,headerPrimaryBtnLabel:"Criar",headerTitle:"Novo usuário",resource:"USERS",action:"CREATE",onlyDirty:!0})}function j(){return a.jsx(C,{children:a.jsx(U,{})})}export{j as default};

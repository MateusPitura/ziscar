import{f as u,u as m,b as h,c as f,d as p,j as e,i as d,g as i,e as v}from"./index-DLLA1f-v.js";import{F as x}from"./schemas-Bhi0Dh6I.js";import{P as g}from"./FieldArray-BBhN6Zd9.js";import{P as S}from"./PageHeader-Bs9TDp09.js";import{a as j}from"./index-ORUOFCuk.js";import{V as y}from"./VehicleTabs-Dq2mxbOQ.js";import"./useButtonState-3b0McXTU.js";import"./dialog-BH6A_dKB.js";import"./index-2Ad1AATz.js";import"./Tabs-D35p2k1r.js";import"./Section-BgbGHRg0.js";import"./PaymentForm-0P3bM2lj.js";import"./DataField-whfLL2N4.js";import"./Choice-BxW3kVCA.js";import"./ColorPreview-BJSXhAOg.js";import"./selectStoresInfo-D_L-tg5X.js";function C(){const a=u(),{safeFetch:s}=m(),{showSuccessSnackbar:o}=h(),t=f();async function r(n){await s(`${v}/vehicles`,{method:"POST",body:n.vehicle,resource:"VEHICLES",action:"CREATE"})}const{mutate:c,isPending:l}=p({mutationFn:r,onSuccess:()=>{o({title:"Veículo criado com sucesso"}),a("/vehicles"),t.invalidateQueries({queryKey:["vehicles"]}),t.invalidateQueries({queryKey:["accounts-receivable"]})}});return e.jsx("div",{className:"flex flex-col gap-4 w-full",children:e.jsxs(x,{onSubmit:c,className:"flex-1 flex flex-col gap-4",schema:j,defaultValues:d,children:[e.jsx(S,{title:"Cadastrar veículo"}),e.jsx(y,{}),e.jsxs(g,{dirty:!0,primaryBtnState:l?"loading":void 0,children:[e.jsx(i,{color:"lightBlue",iconRight:"Save",label:"Salvar"}),e.jsx(i,{color:"red",iconRight:"Close",label:"Cancelar",onClick:()=>a("/vehicles")})]})]})})}function H(){return e.jsx(C,{})}export{H as default};

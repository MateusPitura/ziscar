import{r as i,j as s,h as f,i as x,k as E,g as S,l as U,t as g,m as h}from"./index-Ch3bubzI.js";import{u as v}from"./useIsFetching-aSquAk6R.js";import{U as C}from"./UserForm-DgJbaBZX.js";import"./schemas-Cd82lAeS.js";import"./Choice-BI-6q2Kf.js";import"./PageFooter-CEkJ7fPp.js";import"./Dialog-rg_VNm6h.js";const y=i.createContext(null);function P({children:t}){const[e,a]=i.useState("");function r(n){a(n)}const o=i.useMemo(()=>({example:e,handleExample:r}),[e]);return s.jsx(y.Provider,{value:o,children:t})}function R(){const{safeFetch:t}=f(),{showSuccessSnackbar:e}=x(),a=v({queryKey:["cepApi"]}),r=E(),o=S();async function n(m){const{address:l,...d}=m,{state:w,...p}=l[0];await t(`${h}/user`,{method:"POST",body:{...d,...p},resource:"USERS",action:"CREATE"})}const{mutate:u,isPending:c}=U({mutationFn:n,onSuccess:()=>{e({title:"Um email será enviado",description:"Confira também a caixa de spam"}),o("/users"),r.invalidateQueries({queryKey:["users"]})}});return s.jsx(C,{defaultValues:g,onSubmit:u,isPending:c||!!a,headerTitle:"Novo usuário",resource:"USERS",action:"CREATE",allowEditRole:!0})}function q(){return s.jsx(P,{children:s.jsx(R,{})})}export{q as default};

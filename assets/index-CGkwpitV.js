import{S as h,a as E,i as S,u as v,b as c}from"./index-CImUiWf5.js";import{A as V,a as u,G as N,H as P,J as C,K as g,L as O,N as F,O as L}from"./index-qW6Jgc2x.js";import{w as n,x as M,y as U,z as o,A as r,B as i,C as Y,D as R,E as e,G as I,H as f,J as T}from"./schemas-DhckABRc.js";const H=n({startDate:f().or(e()),endDate:f().or(e()),storeId:o().or(e()),brandId:o().or(e()),status:r(P).or(e()),category:r(N).or(e()),modelYear:i().or(e()),yearOfManufacture:i().or(e()),modelName:o().or(e()),plateNumber:R().or(e()),announcedPriceMin:i({formatter:a=>u(a,"money")??""}).or(e()),announcedPriceMax:i({formatter:a=>u(a,"money")??""}).or(e()),activityStatus:r(Object.values(V))}).refine(...T),k=n({payment:n({purchaseDate:I(),paidTo:o().or(e()),upfront:E,installment:h.nullable()}),vehicle:n({plateNumber:R(),chassiNumber:Y(),announcedPrice:i({formatter:a=>u(a,"money")??""}),minimumPrice:i({formatter:a=>u(a,"money")??""}),commissionValue:i({min:0,formatter:a=>u(a,"money")??""}),storeId:o(),kilometers:i({min:0,max:1e6,formatter:a=>u(a,"number")??""}),modelName:o().or(e()),brandId:o(),color:o().or(e()),modelYear:r(F).or(e()),yearOfManufacture:r(O).or(e()),fuelType:r(g).or(e()),status:r(P),category:r(N).or(e())}),characteristics:n({commonCharacteristics:U(C),newCharacteristics:M(n({description:o()}),10)})}).superRefine(S).superRefine(v).superRefine((a,m)=>{const{modelYear:s,yearOfManufacture:t}=a.vehicle;s!==""&&t!==""&&Number(s)<Number(t)&&c(m,"vehicle.modelYear","O ano do modelo deve ser maior ou igual ao ano de fabricação")}).superRefine((a,m)=>{var y;const{vehicle:s,payment:t}=a,l=Number(s.minimumPrice)||0,A=Number(s.announcedPrice)||0,p=Number(s.commissionValue)||0;if(A<l&&c(m,"vehicle.announcedPrice","Preço anunciado menor que o preço mínimo"),p>=l&&c(m,"vehicle.commissionValue","Comissão maior ou igual ao preço mínimo"),t.installment===null)return!0;const d=Number(t.installment.value)||0,b=Number((y=t.upfront[0])==null?void 0:y.value)||0;l<=d+b&&c(m,"vehicle.minimumPrice","Mínimo menor ou igual ao valor de compra"),p>=l-(d+b)&&c(m,"vehicle.commissionValue","Comissão maior ou igual ao lucro")}),x=n({payment:n({observations:o().or(e()),category:r(L),competencyDate:f(),upfront:E,installment:h.nullable()})}).superRefine(S).superRefine(v);export{H as S,k as a,x as b};

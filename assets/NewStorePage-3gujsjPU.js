import{u as S,c as f,i as l,b as y,d as E,j as g,X as h,e as T}from"./index-CnY9f91V.js";import{p as A}from"./parseAddressToCreate-D-7d1H4W.js";import{u as C}from"./useIsFetching-D0Me2krs.js";import{S as F}from"./StoreForm-CMNrMbut.js";import"./schemas-CZyi_FYc.js";import"./useDialog-DgUnmKfd.js";import"./AddressFields-Cz_sqXof.js";import"./FieldArray-Ckm8lv6T.js";import"./Section-C_3Epz3l.js";import"./Select-7V9bPDz1.js";import"./PageHeader-nhaYMwqU.js";import"./index-CptI9eR2.js";import"./index-8LNUc8ZP.js";function L({contextHelper:e}){const{safeFetch:s}=S(),t=C({queryKey:["cepApi"]}),o=f(),r=l(),{showSuccessSnackbar:a}=y();async function i(u){const{address:m,...d}=u,p=A({address:m});await s(`${T}/store`,{method:"POST",body:{...d,address:p},resource:"STORES",action:"CREATE"})}const{mutate:n,isPending:c}=E({mutationFn:i,onSuccess:()=>{a({title:"Loja criada com sucesso"}),r("/stores"),o.invalidateQueries({queryKey:["stores"]})}});return g.jsx(F,{defaultValues:h,onSubmit:n,isPending:c||!!t,headerTitle:"Nova loja",resource:"STORES",action:"CREATE",contextHelper:e})}export{L as default};

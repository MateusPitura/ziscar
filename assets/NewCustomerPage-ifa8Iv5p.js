import{u as C,c as f,i as l,b as S,d as y,j as e,a0 as E,e as g}from"./index-CrVTpVTI.js";import{u as h}from"./useIsFetching-Dh2N-bBa.js";import{p as T}from"./parseAddressToCreate-D-7d1H4W.js";import{C as A}from"./CustomerForm-C-kqv_yO.js";import"./schemas-B7gcU9vp.js";import"./useButtonState-C7TXS9Jx.js";import"./AddressFields-DlZGQI2J.js";import"./FieldArray-DswNorv6.js";import"./Select-CB-6jpCF.js";import"./dialog-Ct9-qcrh.js";import"./PageHeader-DARJqnt5.js";import"./Section-DVwlB0L5.js";import"./index-3HpwEXPJ.js";import"./index-CLx72V5J.js";import"./CustomerFormInputs-D0n1tHjT.js";function F(){const{safeFetch:s}=C(),t=h({queryKey:["cepApi"]}),o=f(),r=l(),{showSuccessSnackbar:a}=S();async function i(c){const{address:m,...p}=c,d=T({address:m});await s(`${g}/customer`,{method:"POST",body:{...p,address:d},resource:"CUSTOMERS",action:"CREATE"})}const{mutate:n,isPending:u}=y({mutationFn:i,onSuccess:()=>{a({title:"Cliente criado com sucesso"}),r("/customers"),o.invalidateQueries({queryKey:["customers"]})}});return e.jsx(A,{defaultValues:E,onSubmit:n,isPending:u||!!t,headerTitle:"Novo cliente",resource:"CUSTOMERS",action:"CREATE"})}function Q(){return e.jsx(F,{})}export{Q as default};

import{j as e,I as n,P as x,h as u,V as j,F as d,i as p,k as h,l as b,r as C,e as v,m as A,f as m,n as T}from"./index-CwQymCQa.js";import{u as f,I as r,a as E,F as S}from"./schemas-BL4SC9at.js";import{a as I}from"./index-DIacthnF.js";import{P as g}from"./PageHeader-ciO4E3wM.js";import{P as y}from"./PageFooter-BC-TFmMj.js";import{C as N,T as l}from"./ColorPicker-DjRP-oTN.js";import{S as s,a as o}from"./Select-D2QyUKl8.js";import{C as c}from"./Choice-DMQtnXq8.js";import{F as P}from"./FieldArray-BwK9nGym.js";function R(){const{watch:a}=f(),i=a("purchase.installment.status");return e.jsxs(e.Fragment,{children:[e.jsxs(s.Group,{children:[e.jsx(s.Header,{title:"Informações da compra"}),e.jsxs(s.Body,{children:[e.jsx(r,{label:"Data de compra",name:"purchase.purchaseDate",type:"date",required:!0}),e.jsx(r,{label:"Comprado de",name:"purchase.paidTo"})]})]}),e.jsxs(s.Group,{children:[e.jsx(s.Header,{title:"Informações do pagamento"}),e.jsxs(s.Body,{children:[e.jsx(r,{label:"Valor",name:"purchase.installment.value",mask:"money",required:!0}),e.jsx(o,{label:"Status",name:"purchase.installment.status",options:[{label:"Pago",value:n.PAID},{label:"Pendente",value:n.PENDING}],required:!0}),i===n.PAID?e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Data de pagamento",name:"purchase.installment.dueDate",type:"date",required:!0}),e.jsx(o,{label:"Forma de pagamento",name:"purchase.installment.paymentMethod",options:x,required:!0})]}):e.jsx(r,{label:"Data de vencimento",name:"purchase.installment.paymentDate",type:"date",required:!0})]})]})]})}function V(){return e.jsxs(e.Fragment,{children:[e.jsx(r,{name:"vehicle.plateNumber",label:"Número da placa",required:!0}),e.jsx(r,{name:"vehicle.chassiNumber",label:"Número do chassi",required:!0}),e.jsx(r,{name:"vehicle.announcedPrice",label:"Preço anunciado",mask:"money",required:!0}),e.jsx(r,{name:"vehicle.minimumPrice",label:"Preço mínimo",mask:"money",required:!0}),e.jsx(r,{name:"vehicle.commissionValue",label:"Valor da comissão",mask:"money",required:!0}),e.jsx(o,{name:"vehicle.storeId",label:"Loja",options:[{value:"1",label:"Loja A"},{value:"2",label:"Loja B"},{value:"3",label:"Loja C"}],required:!0}),e.jsx(o,{name:"vehicle.status",label:"Status",options:Object.values(u).map(a=>({value:a,label:j[a]})),required:!0}),e.jsx(r,{name:"vehicle.kilometers",label:"Quilometragem"}),e.jsx(r,{name:"vehicle.modelName",label:"Modelo"}),e.jsx(o,{name:"vehicle.brandId",label:"Marca",options:[{value:"1",label:"Chevrolet"},{value:"2",label:"Volkswagen"},{value:"3",label:"Honda"}]}),e.jsx(r,{name:"vehicle.modelYear",label:"Ano do modelo"}),e.jsx(r,{name:"vehicle.yearOfManufacture",label:"Ano de fabricação"}),e.jsx(N,{label:"Cor",name:"vehicle.color"}),e.jsx(o,{name:"vehicle.fuelType",label:"Tipo de combustível",options:Object.values(d).map(a=>({value:a,label:p[a]}))}),e.jsx(o,{name:"vehicle.category",label:"Categoria",options:Object.values(h).map(a=>({value:a,label:b[a]}))})]})}function F(){return e.jsxs(c,{children:[e.jsx(c.Checkbox,{name:"characteristics.commonCharacteristics",label:"Direção hidráulica",value:"Direção hidráulica"}),e.jsx(c.Checkbox,{name:"characteristics.commonCharacteristics",label:"Vidros elétricos",value:"Janelas elétricas"}),e.jsx(c.Checkbox,{name:"characteristics.commonCharacteristics",label:"Ar condicionado",value:"Ar condicionado"}),e.jsx(c.Checkbox,{name:"characteristics.commonCharacteristics",label:"Travas elétricas",value:"Travas elétricas"}),e.jsx(c.Checkbox,{name:"characteristics.commonCharacteristics",label:"Câmera de ré",value:"Câmera de ré"}),e.jsx(c.Checkbox,{name:"characteristics.commonCharacteristics",label:"Air bag",value:"Air bag"}),e.jsx(c.Checkbox,{name:"characteristics.commonCharacteristics",label:"Roda de liga leve",value:"Rodas de liga leve"})]})}function k(){return e.jsx(P,{name:"characteristics.newCharacteristics",appendText:"Adicionar característica",removeText:"Remover característica",appendDefaultValues:{description:""},maxLength:10,render:a=>e.jsx("div",{className:"col-span-full",children:e.jsx(r,{name:`characteristics.newCharacteristics.${a}.description`,label:"Característica",placeholder:"Câmbio automático"})})})}function D(){const[a,i]=C.useState("PURCHASE"),{errors:t}=E();return e.jsxs(l,{children:[e.jsxs(l.Header,{children:[e.jsx(l.Tab,{isActive:a==="PURCHASE",title:"Compra",onClick:()=>i("PURCHASE"),hasError:!!(t!=null&&t.purchase),resource:"VEHICLES",action:"CREATE"}),e.jsx(l.Tab,{isActive:a==="INFORMATION",title:"Veículo",onClick:()=>i("INFORMATION"),hasError:!!(t!=null&&t.vehicle),resource:"VEHICLES",action:"CREATE"}),e.jsx(l.Tab,{isActive:a==="CHARACTERISTICS",title:"Características",onClick:()=>i("CHARACTERISTICS"),hasError:!!(t!=null&&t.characteristics),resource:"VEHICLES",action:"CREATE"})]}),e.jsxs(l.Body,{children:[e.jsx(l.Section,{isActive:a==="PURCHASE",children:e.jsx(s,{children:e.jsx(R,{})})}),e.jsx(l.Section,{isActive:a==="INFORMATION",children:e.jsx(s,{children:e.jsxs(s.Group,{children:[e.jsx(s.Header,{title:"Informações do veículo"}),e.jsx(s.Body,{children:e.jsx(V,{})})]})})}),e.jsx(l.Section,{isActive:a==="CHARACTERISTICS",children:e.jsxs(s,{children:[e.jsxs(s.Group,{children:[e.jsx(s.Header,{title:"Selecione características"}),e.jsx(s.Body,{children:e.jsx(F,{})})]}),e.jsxs(s.Group,{children:[e.jsx(s.Header,{title:"Adicione características"}),e.jsx(s.Body,{children:e.jsx(k,{})})]})]})})]})]})}function H(){const a=v();return e.jsx("div",{className:"flex flex-col gap-4 w-full",children:e.jsxs(S,{onSubmit:i=>{console.log("data: ",i)},className:"flex-1 flex flex-col gap-4",schema:I,defaultValues:{characteristics:{commonCharacteristics:[],newCharacteristics:[]},purchase:{paidTo:"",purchaseDate:"",installment:{dueDate:"",value:"0",status:n.PENDING,paymentDate:"",paymentMethod:A.CREDIT_CARD}},vehicle:{kilometers:0,plateNumber:"",announcedPrice:"0",minimumPrice:"0",commissionValue:"0",color:"",fuelType:d.FLEX,status:u.PURCHASED,chassiNumber:"",modelYear:"",yearOfManufacture:"",modelName:"",category:h.CAR,storeId:"",brandId:""}},children:[e.jsx(g,{title:"Cadastrar veículo"}),e.jsx(D,{}),e.jsxs(y,{dirty:!0,children:[e.jsx(m,{color:"lightBlue",iconRight:"Save",label:"Salvar"}),e.jsx(m,{color:"red",iconRight:"Close",label:"Cancelar",onClick:()=>a(T)})]})]})})}function _(){return e.jsx(H,{})}export{_ as default};

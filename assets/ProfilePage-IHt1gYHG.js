import{r as c,j as e,v as d,w as u,y as x,z as m,t as f}from"./index-Bk1-U1gT.js";import{P as j}from"./Loading-Dzwhq4Sl.js";import{S as t}from"./Section-BLbuff5n.js";import{g as o,f as h}from"./Dialog-BY7jKJUu.js";import"./useButtonState-B12HSnGx.js";const p=c.createContext(null);function g({children:a}){const[s,n]=c.useState("");function i(l){n(l)}const r=c.useMemo(()=>({example:s,handleExample:i}),[s]);return e.jsx(p.Provider,{value:r,children:a})}function P({...a}){const{safeFetch:s}=d(),{showSuccessSnackbar:n}=u();async function i(){await s(`${m}/auth/request-change-password`,{method:"POST"})}const{mutate:r,isPending:l}=x({mutationFn:i,onSuccess:()=>{n({title:"Um email será enviado",description:"Confira também a caixa de spam"}),a.closeDialog()}});return e.jsxs(o,{...a,children:[e.jsx(o.Header,{title:"Alteração de senha"}),e.jsx(o.Body,{children:"Caso deseje alterar a senha, clique no botão abaixo e siga as instruções enviadas para seu email"}),e.jsx(o.Footer,{labelSecondaryBtn:"Cancelar",onClickPrimaryBtn:r,labelPrimaryBtn:"Solicitar alteração",onClickSecondaryBtn:a.closeDialog,primaryBtnState:l?"loading":void 0})]})}function S(){const a=h(),s=f();return e.jsxs(e.Fragment,{children:[e.jsx(P,{...a}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(j,{title:"Perfil"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(t,{children:[e.jsx(t.Title,{title:"Seus dados"}),e.jsxs(t.Group,{children:[e.jsx(t.Header,{title:"Conta"}),e.jsx(t.Row,{label:"Informações pessoais",onEdit:()=>s("/profile/edit")}),e.jsx(t.Row,{label:"Senha",onEdit:()=>a.openDialog()})]})]})})]})]})}function B(){return e.jsx(g,{children:e.jsx(S,{})})}export{B as default};

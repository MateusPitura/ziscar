import{r as o,j as a,v as l,w as d,x as p,t as f,y as x,F as y,z as S}from"./index-BjaSeb4Z.js";import{u as h}from"./Section-aiBSJG69.js";import{U as E}from"./UserForm-Ccn6Oqw8.js";import"./index-CqNXhMKj.js";import"./Loading-ByzWECJ9.js";import"./Choice-CDScH1dd.js";const v=o.createContext(null);function U({children:t}){const[e,r]=o.useState("");function s(i){r(i)}const n=o.useMemo(()=>({example:e,handleExample:s}),[e]);return a.jsx(v.Provider,{value:n,children:t})}function g(){const{safeFetch:t}=l(),{showSuccessSnackbar:e}=d(),r=h({queryKey:["cepApi"]}),s=p(),n=f();async function i(m){await t(`${S}/user`,{method:"POST",body:m,resource:"USERS",action:"CREATE"})}const{mutate:u,isPending:c}=x({mutationFn:i,onSuccess:()=>{e({title:"Enviaremos um email para definir a senha",description:"Confira também a caixa de spam"}),n("/users"),s.invalidateQueries({queryKey:["user"]}),s.invalidateQueries({queryKey:["usersDashboard"]})}});return a.jsx(E,{defaultValues:y,onSubmit:u,isPending:c||!!r,headerPrimaryBtnLabel:"Criar",headerTitle:"Novo usuário",resource:"USERS",action:"CREATE",onlyDirty:!0})}function N(){return a.jsx(U,{children:a.jsx(g,{})})}export{N as default};

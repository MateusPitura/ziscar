import{r as i,j as s,h as m,i as d,k as p,g as x,l as f,p as E,m as S}from"./index-aVBDU0Ve.js";import{u as U,U as g}from"./UserForm-DqhVntOB.js";import"./Dialog-DJzmwurf.js";import"./Choice-CQV22enN.js";const h=i.createContext(null);function v({children:t}){const[e,a]=i.useState("");function n(o){a(o)}const r=i.useMemo(()=>({example:e,handleExample:n}),[e]);return s.jsx(h.Provider,{value:r,children:t})}function C(){const{safeFetch:t}=m(),{showSuccessSnackbar:e}=d(),a=U({queryKey:["cepApi"]}),n=p(),r=x();async function o(l){await t(`${S}/user`,{method:"POST",body:l,resource:"USERS",action:"CREATE"})}const{mutate:u,isPending:c}=f({mutationFn:o,onSuccess:()=>{e({title:"Um email será enviado",description:"Confira também a caixa de spam"}),r("/users"),n.invalidateQueries({queryKey:["users"]})}});return s.jsx(g,{defaultValues:E,onSubmit:u,isPending:c||!!a,headerTitle:"Novo usuário",resource:"USERS",action:"CREATE",allowEditRole:!0})}function R(){return s.jsx(v,{children:s.jsx(C,{})})}export{R as default};

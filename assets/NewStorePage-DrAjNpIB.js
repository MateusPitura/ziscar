import{u as S,c as f,i as l,b as y,d as E,j as e,Z as g,e as h}from"./index-CrVTpVTI.js";import{u as C}from"./useIsFetching-Dh2N-bBa.js";import{p as T}from"./parseAddressToCreate-D-7d1H4W.js";import{S as j}from"./StoreForm-kdxDn-EH.js";import"./schemas-B7gcU9vp.js";import"./useButtonState-C7TXS9Jx.js";import"./AddressFields-DlZGQI2J.js";import"./FieldArray-DswNorv6.js";import"./Select-CB-6jpCF.js";import"./dialog-Ct9-qcrh.js";import"./PageHeader-DARJqnt5.js";import"./Section-DVwlB0L5.js";import"./index-hFX5y6l5.js";import"./index-CLx72V5J.js";function A(){const{safeFetch:t}=S(),s=C({queryKey:["cepApi"]}),o=f(),r=l(),{showSuccessSnackbar:a}=y();async function i(c){const{address:m,...d}=c,p=T({address:m});await t(`${h}/store`,{method:"POST",body:{...d,address:p},resource:"STORES",action:"CREATE"})}const{mutate:n,isPending:u}=E({mutationFn:i,onSuccess:()=>{a({title:"Loja criada com sucesso"}),r("/stores"),o.invalidateQueries({queryKey:["stores"]})}});return e.jsx(j,{defaultValues:g,onSubmit:n,isPending:u||!!s,headerTitle:"Nova loja",resource:"STORES",action:"CREATE"})}function Q(){return e.jsx(A,{})}export{Q as default};

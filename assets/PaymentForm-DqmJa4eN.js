import{r as i,a3 as m,a4 as l,a5 as y,j as e,n as x,a6 as d,a7 as f,a8 as h,y as u,a as E}from"./index-BZf2WeKU.js";import{F as j}from"./FieldArray-F9VSLlp9.js";import{I as s}from"./schemas-uOsodSYq.js";import{S as p}from"./Select-Brlr1v8A.js";import{u as c}from"./useDialog-Q2f17nT0.js";import{D as P}from"./DataField-puxf29Nz.js";function F({isAccountReceivable:r}){const{watch:n,setValue:t}=c(),a=n("payment.upfront.0.status");return i.useEffect(()=>{a===m.PENDING?(t("payment.upfront.0.paymentDate",""),t("payment.upfront.0.paymentMethod",""),t("payment.upfront.0.dueDate",l())):a===m.PAID&&(t("payment.upfront.0.dueDate",""),t("payment.upfront.0.paymentDate",l()),t("payment.upfront.0.paymentMethod",y.CREDIT_CARD))},[a,t]),e.jsx(j,{name:"payment.upfront",appendText:"Adicionar entrada",removeText:"Remover entrada",maxLength:1,title:"Informação da entrada",className:"grid-cols-3",appendDefaultValues:{...x.payment.installment,status:m.PAID},render:()=>e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Valor",name:"payment.upfront.0.value",mask:"money",required:!0}),a===m.PAID?e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Data de pagamento",name:"payment.upfront.0.paymentDate",type:"date",required:!0}),e.jsx(p,{label:"Forma de pagamento",name:"payment.upfront.0.paymentMethod",options:r?d:f,required:!0})]}):e.jsx(s,{label:"Data de vencimento",name:"payment.upfront.0.dueDate",type:"date",required:!0})]})})}function T(r,n){const t=Number(u(r))||0,a=Number(u(n??"0"))||0,o=t+a;return E(o.toString(),"money")}function g({isAccountReceivable:r}){const{watch:n,setValue:t}=c(),a=n("payment.installment.status"),o=n("payment.installment.value"),D=n("payment.upfront.0.value");return i.useEffect(()=>{a===m.PENDING?(t("payment.installment.paymentDate",""),t("payment.installment.dueDate",l()),t("payment.installment.paymentMethod","")):a===m.PAID&&(t("payment.installment.dueDate",""),t("payment.installment.paymentDate",l()),t("payment.installment.paymentMethod",y.CREDIT_CARD))},[a,t]),e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Valor",name:"payment.installment.value",mask:"money",required:!0}),e.jsx(p,{label:"Status do pagamento",name:"payment.installment.status",options:h,required:!0}),a===m.PAID?e.jsxs(e.Fragment,{children:[e.jsx(s,{label:"Data de pagamento",name:"payment.installment.paymentDate",type:"date",required:!0}),e.jsx(p,{label:"Forma de pagamento",name:"payment.installment.paymentMethod",options:r?d:f,required:!0})]}):e.jsx(s,{label:"Data de vencimento",name:"payment.installment.dueDate",type:"date",required:!0}),e.jsx("div",{className:"col-span-full w-fit",children:e.jsx(P,{label:"Valor total",value:T(o,D)})})]})}export{g as P,F as U};

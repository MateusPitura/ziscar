import{S as E,a as y,i as S,u as V,b as u}from"./index-CLx72V5J.js";import{C as N,s as P,a as c,D as A,G as R,H as v,J as I,K as g,L as T}from"./index-CrVTpVTI.js";import{w as o,x as F,y as L,z as r,A as n,B as i,C as U,D,E as e,G as M,H as f,J as O}from"./schemas-B7gcU9vp.js";const Y="INACTIVE",_=[...N.filter(a=>a!==P.SOLD),Y],x=o({startDate:f().or(e()),endDate:f().or(e()),storeId:r().or(e()),brandId:r().or(e()),status:n(_).or(e()),category:n(A).or(e()),modelYear:i().or(e()),yearOfManufacture:i().or(e()),modelName:r().or(e()),plateNumber:r(8).transform(a=>a.replace(/[^A-Z0-9]/gi,"")).or(e()),announcedPriceMin:i({formatter:a=>c(a,"money")??""}).or(e()),announcedPriceMax:i({formatter:a=>c(a,"money")??""}).or(e())}).refine(...O),w=o({payment:o({purchaseDate:M(),paidTo:r().or(e()),upfront:y,installment:E.nullable()}),vehicle:o({plateNumber:D(),chassiNumber:U(),announcedPrice:i({formatter:a=>c(a,"money")??""}),minimumPrice:i({formatter:a=>c(a,"money")??""}),commissionValue:i({min:0,formatter:a=>c(a,"money")??""}),storeId:r(),kilometers:i({min:0,max:1e6,formatter:a=>c(a,"number")??""}),modelName:r().or(e()),brandId:r(),color:r().or(e()),modelYear:n(g).or(e()),yearOfManufacture:n(I).or(e()),fuelType:n(v).or(e()),status:n(N),category:n(A).or(e())}),characteristics:o({commonCharacteristics:L(R),newCharacteristics:F(o({description:r()}),10)})}).superRefine(S).superRefine(V).superRefine((a,s)=>{const{modelYear:m,yearOfManufacture:t}=a.vehicle;m!==""&&t!==""&&Number(m)<Number(t)&&u(s,"vehicle.modelYear","O ano do modelo deve ser maior ou igual ao ano de fabricação")}).superRefine((a,s)=>{var b;const{vehicle:m,payment:t}=a,l=Number(m.minimumPrice)||0,C=Number(m.announcedPrice)||0,p=Number(m.commissionValue)||0;if(C<l&&u(s,"vehicle.announcedPrice","Preço anunciado menor que o preço mínimo"),p>=l&&u(s,"vehicle.commissionValue","Comissão maior ou igual ao preço mínimo"),t.installment===null)return!0;const d=Number(t.installment.value)||0,h=Number((b=t.upfront[0])==null?void 0:b.value)||0;l<=d+h&&u(s,"vehicle.minimumPrice","Mínimo menor ou igual ao valor de compra"),p>=l-(d+h)&&u(s,"vehicle.commissionValue","Comissão maior ou igual ao lucro")}),J=o({payment:o({observations:r().or(e()),category:n(T),competencyDate:f(),upfront:y,installment:E.nullable()})}).superRefine(S).superRefine(V);export{x as S,Y as V,_ as a,w as b,J as c};
